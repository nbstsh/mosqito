(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,n){},115:function(e,t,n){e.exports={stage:"Palette_stage__g1hmy"}},116:function(e,t,n){e.exports={container:"MosqitoContainer_container__21plt"}},117:function(e,t,n){e.exports=n(249)},121:function(e,t,n){},127:function(e,t){},129:function(e,t){},162:function(e,t){},163:function(e,t){},249:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(113),o=n.n(c),i=(n(121),n(114)),s=n.n(i),u=n(17),l=n(44),d=n.n(l),f=n(8),p=n.n(f),w=n(16),h=n(45),v={flipHorizontal:!0,imageScaleFactor:.5,maxNumBoxes:1,iouThreshold:.5,scoreThreshold:.79},m=function(){var e=Object(w.a)(p.a.mark(function e(t){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Video element needs to be set.");case 2:return e.next=4,h.b(t);case 4:if(e.sent){e.next=7;break}throw new Error("Permission denied.");case 7:return n={audio:!1,video:!0},e.next=10,navigator.mediaDevices.getUserMedia(n);case 10:r=e.sent,t.srcObject=r;case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(w.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a(v);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(w.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(t);case 3:return e.next=5,b();case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(0),h.c(t),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),g=n(21),E="SET_CURRENT_POINTS",y="START_DRAWING",O="FINISH_DRAWING",j="COUNT",_="SET_CURRENT_POINTER_POINTS",N=function(e,t){return{type:E,payload:{x:e,y:t}}},P=function(e,t){switch(t.type){case E:return Object(g.a)({},e,{currentPoints:t.payload});case y:return Object(g.a)({},e,{isDrawing:!0,drawingLine:t.payload});case O:return Object(g.a)({},e,{isDrawing:!1,drawingLine:null,currentPointerPoints:{x:null,y:null},count:0});case j:return Object(g.a)({},e,{count:e.count<10?e.count+1:0});case _:return Object(g.a)({},e,{currentPointerPoints:t.payload,count:0});default:throw new Error("Invalid action provided.")}},k={currentPoints:{x:null,y:null},currentPointerPoints:{x:null,y:null},isDrawing:!1,drawingLine:null,count:0},C=Object(r.createContext)(),R=function(e){var t=e.children,n=Object(r.useReducer)(P,k),c=Object(u.a)(n,2),o=c[0],i=c[1];return a.a.createElement(C.Provider,{value:{state:o,dispatch:i}},t)},S=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=Object(r.useRef)(null),n=Object(r.useState)(null),a=Object(u.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(!1),s=Object(u.a)(i,2),l=s[0],d=s[1],f=Object(r.useState)(null),h=Object(u.a)(f,2),v=h[0],m=h[1];return Object(r.useEffect)(function(){x(t.current).then(o).catch(function(e){return console.error("Something went wrong at init.")})},[]),Object(r.useEffect)(function(){c&&(setInterval(function(){var e=Object(w.a)(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.detect(t.current);case 2:n=e.sent,m(n);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e),d(!0))},[c,e]),{videoRef:t,isReady:l,predictions:v}}(100),t=e.videoRef,n=e.isReady,c=e.predictions,o=Object(r.useContext)(C),i=(o.state,o.dispatch);return Object(r.useEffect)(function(){if(!c||!c.length)return i(N(null,null));var e=Object(u.a)(c[0].bbox,4),t=e[0],n=e[1],r=e[2],a=e[3];i(N(t+r/2,n+a/2))},[c,i]),a.a.createElement("div",{className:d.a.container},!n&&a.a.createElement("h1",null,"Loading ..."),a.a.createElement("div",{className:d.a.videoBox},a.a.createElement("video",{className:d.a.video,ref:t,width:window.innerWidth,height:window.innerHeight})))},I=n(115),T=n.n(I),q=n(43),D=n(42),L=n.n(D),M={x:0,y:0,points:[],stroke:L.a.Util.getRandomColor(),tension:.5},B=function(e,t){return"number"===typeof e&&"number"===typeof t},H=n(66),z=function(){var e=Object(r.useContext)(C),t=e.state,n=t.isDrawing,c=t.drawingLine,o=t.currentPoints,i=t.count,s=e.dispatch,u=Object(r.useRef)(null),l=o.x,d=o.y;return Object(r.useEffect)(function(){if(!n&&l&&d){var e=function(e,t,n){if(!B(e,t))throw new Error("Invalid point was given!");var r=n?Object(g.a)({},M,{stroke:n}):M;return r.points=[e,t],new L.a.Line(r)}(o.x,o.y);s({type:y,payload:e}),u.current.add(e)}},[n,o,s]),Object(r.useEffect)(function(){n&&c&&(l&&d?(function(e,t,n){if(!e)throw new Error("Line must be provided!");if(!B(t,n))throw new Error("Invalid point was given!");e.points([].concat(Object(q.a)(e.points()),[t,n])),e.draw()}(c,l,d),s(function(e,t){return{type:_,payload:{x:e,y:t}}}(l,d))):s({type:j}))},[n,c,o,s]),Object(r.useEffect)(function(){i<10||s({type:O})},[i]),a.a.createElement(H.Stage,{className:T.a.stage,width:window.innerWidth,height:window.innerHeight},a.a.createElement(H.Layer,{ref:u}))},U=n(26),W=n.n(U),A=function(e){var t=e.x,n=e.y;return a.a.createElement("svg",{className:W.a.mosqito,style:{width:30,height:30,top:n-15,left:t-15},version:"1.1",id:"_x32_",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",xmlSpace:"preserve"},a.a.createElement("g",null,a.a.createElement("path",{className:W.a.body,d:"M209.041,242.541c10.009-8.284,16.391-20.807,16.391-34.812c0-24.941-20.226-45.16-45.168-45.16 c-13.788,0-26.134,6.189-34.418,15.932c-6.366-17.214-22.926-29.486-42.364-29.486c-24.94,0-45.159,20.227-45.159,45.168 c0,24.941,20.219,45.168,45.159,45.168c0.274,0,0.54-0.016,0.806-0.024L24.985,386.965c-2.232,3.788-0.983,8.678,2.805,10.927 l2.748,1.62c3.788,2.24,8.678,0.983,10.919-2.812l94.816-145.407c11.444,21.081,24.828,40.26,39.301,57.53l-34.352,56.304v52.525 h14.626v-48.416l29.816-48.866c4.464,4.916,9.018,9.662,13.619,14.24l-14.143,40.824l0.702,82.51l14.626-0.129l-0.677-79.98 l11.128-32.12c3.788,3.473,7.599,6.825,11.427,10.081l14.578,75.726l-3.538,70.608l14.618,0.734l3.626-72.373l-11.66-60.527 c9.235,7.011,18.43,13.394,27.423,19.147l25.255,49.688L296.597,512l14.61-0.79l-4.118-76.29l-16.23-31.944 c25.288,22.08,53.879,29.534,75.013,29.534c44.769,0,80.802-28.584,72.099-63.396C374.497,320.765,209.041,242.541,209.041,242.541 z"}),a.a.createElement("path",{className:W.a.wing,d:"M293.873,244.604c26.335-13.168,249.812-114.954,179.954-184.345 c-71.012-70.528-187.61,139.605-201.897,166.794C258.85,251.921,267.538,257.772,293.873,244.604z"}),a.a.createElement("path",{className:W.a.wing,d:"M487.872,253.613c-7.639-68.795-161.612-6.221-181.097,2.217c-17.834,7.72-15.69,14.642,4.198,18.978 C330.869,279.143,495.383,321.288,487.872,253.613z"}),a.a.createElement("path",{className:W.a.wing,d:"M329.233,100.938C343.134,46.543,344.585-3.258,301.036,0.167C223.925,6.235,242.629,156.614,253,214.844 C263.927,194.819,293.727,143.092,329.233,100.938z"})))},F=n(116),G=n.n(F),J=function(){var e=Object(r.useContext)(C).state.currentPointerPoints;return a.a.createElement("div",{className:G.a.container},a.a.createElement(A,e))};var V=function(){return a.a.createElement("div",{className:s.a.app},a.a.createElement(R,null,a.a.createElement(S,null),a.a.createElement(z,null),a.a.createElement(J,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},26:function(e,t,n){e.exports={mosqito:"Mosqito_mosqito__C9g0q",wing:"Mosqito_wing__yUOhz",shake:"Mosqito_shake__FMEqq"}},44:function(e,t,n){e.exports={container:"HandDetection_container__3DYE8",videoBox:"HandDetection_videoBox__1snqZ",video:"HandDetection_video__2y3Gn"}}},[[117,1,2]]]);
//# sourceMappingURL=main.b695efff.chunk.js.map